<html>
    <head>
        <title>CCGraph</title>
		<link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
	    <a href="https://github.com/pslacerda/CobolCallGraph"><img src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
        <section id=controls>
			<button onclick="load()">Load </button>
        <section>
        <div id=drawarea>
		   <p>
		   Click on button Load to choose your Cobol source file
		   </p>   
		</div>
		<footer>
		    Project source: <a href="https://github.com/pslacerda/CobolCallGraph">GitHub</a>
		</footer>
    </body>	
	<script src=https://mdaines.github.io/viz.js/bower_components/viz.js/viz.js></script>
        <script src=ccgraph.js></script>
        <script>
			function load() {
			   var drawarea = document.querySelector('#drawarea');
			   drawarea.innerHTML = "Loading...";
			   loadLocalFile(function(fullText) {			        
				    var dot = generateDotFile(parseCallGraph(fullText, true, true, {}));                
                    var result = Viz(dot, {format: 'svg'});                    
                    drawarea.innerHTML = result;
               });
			}			
        </script>
<html>
